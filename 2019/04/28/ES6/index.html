

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/avatar.jpeg">
  <link rel="icon" type="image/png" href="/img/avatar.jpeg">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="tatekii">
  <meta name="keywords" content="">
  <title>ES6 - ä¸çŸ¥åçš„ç¬”è®°æœ¬</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/tomorrow-night-eighties.min.css" />
    
  

  


<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_pf9vaxs7x7b.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->


  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 4.2.0"></head>


<body>
  <header style="height: 30vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Dr.ğŸ</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner intro-2" id="background" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container page-header text-center fade-in-up">
            <span class="h2" id="subtitle">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2019-04-28 14:34" pubdate>
        2019å¹´4æœˆ28æ—¥ ä¸‹åˆ
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      3k å­—
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      43
       åˆ†é’Ÿ
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto" id="post">
            <!-- SEO header -->
            <h1 style="display: none">ES6</h1>
            
            <div class="markdown-body" id="post-body">
              <h2 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="headerlink" title="æ¨¡å—åŒ–"></a>æ¨¡å—åŒ–</h2><ol>
<li>è¯­æ³•</li>
</ol>
<p><code>export / export</code></p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-comment">// è¿™æ˜¯ Node ä¸­å‘å¤–æš´éœ²æˆå‘˜çš„å½¢å¼ï¼š</span>
<span class="hljs-comment">// module.exports = &#123;&#125;</span>

<span class="hljs-comment">// ES6ä¸­å¯¼å…¥æ¨¡å—ï¼Œä½¿ç”¨ import æ¨¡å—åç§° from 'æ¨¡å—æ ‡è¯†ç¬¦' import 'è¡¨ç¤ºè·¯å¾„'</span>
<span class="hljs-comment">// åœ¨ ES6 ä¸­ï¼Œä½¿ç”¨ export default å’Œ export å‘å¤–æš´éœ²æˆå‘˜ï¼š</span>
<span class="hljs-keyword">var</span> info = &#123;
  name: <span class="hljs-string">"zs"</span>,
  age: <span class="hljs-number">20</span>
&#125;;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> info;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;
  address: <span class="hljs-string">"æ·±åœ³"</span>
&#125;;
<span class="hljs-comment">// æ³¨æ„ï¼š export default å‘å¤–æš´éœ²çš„æˆå‘˜ï¼Œå¯ä»¥ä½¿ç”¨ä»»æ„çš„å˜é‡æ¥æ¥æ”¶</span>
<span class="hljs-comment">// æ³¨æ„ï¼š åœ¨ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œexport default åªå…è®¸å‘å¤–æš´éœ²1æ¬¡</span>
<span class="hljs-comment">// æ³¨æ„ï¼š åœ¨ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œå¯ä»¥åŒæ—¶ä½¿ç”¨ export default å’Œ export å‘å¤–æš´éœ²æˆå‘˜</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">var</span> title = <span class="hljs-string">"å°æ˜Ÿæ˜Ÿ"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">var</span> content = <span class="hljs-string">"å“ˆå“ˆå“ˆ"</span>;
<span class="hljs-comment">// æ³¨æ„ï¼š ä½¿ç”¨ export å‘å¤–æš´éœ²çš„æˆå‘˜ï¼Œåªèƒ½ä½¿ç”¨ &#123; &#125; çš„å½¢å¼æ¥æ¥æ”¶ï¼Œè¿™ç§å½¢å¼ï¼Œå«åš ã€æŒ‰éœ€å¯¼å‡ºã€‘</span>
<span class="hljs-comment">// æ³¨æ„ï¼š export å¯ä»¥å‘å¤–æš´éœ²å¤šä¸ªæˆå‘˜ï¼Œ åŒæ—¶ï¼Œå¦‚æœæŸäº›æˆå‘˜ï¼Œæˆ‘ä»¬åœ¨ import çš„æ—¶å€™ï¼Œä¸éœ€è¦ï¼Œåˆ™å¯ä»¥ä¸åœ¨ &#123;&#125; ä¸­å®šä¹‰</span>
<span class="hljs-comment">// æ³¨æ„ï¼š ä½¿ç”¨ export å¯¼å‡ºçš„æˆå‘˜ï¼Œå¿…é¡»ä¸¥æ ¼æŒ‰ç…§ å¯¼å‡ºæ—¶å€™çš„åç§°ï¼Œæ¥ä½¿ç”¨ &#123;&#125; æŒ‰éœ€æ¥æ”¶ï¼›</span>
<span class="hljs-comment">// æ³¨æ„ï¼š ä½¿ç”¨ export å¯¼å‡ºçš„æˆå‘˜ï¼Œå¦‚æœ å°±æƒ³ æ¢ä¸ª åç§°æ¥æ¥æ”¶ï¼Œå¯ä»¥ä½¿ç”¨ as æ¥èµ·åˆ«åï¼›</span>

<span class="hljs-comment">// åœ¨Nodeä¸­ ä½¿ç”¨ var åç§° = require('æ¨¡å—æ ‡è¯†ç¬¦')</span>
<span class="hljs-comment">// module.exports å’Œ exports æ¥æš´éœ²æˆå‘˜</span></code></pre></div>

<ol start="2">
<li><p>ä½¿ç”¨ babel ç¼–è¯‘ ES6 è¯­æ³•</p>
<p>Babel æ˜¯ä¸€ä¸ªå·¥å…·é“¾ï¼Œä¸»è¦ç”¨äºåœ¨æ—§çš„æµè§ˆå™¨æˆ–ç¯å¢ƒä¸­å°† ECMAScript 2015+ ä»£ç è½¬æ¢ä¸ºå‘åå…¼å®¹ç‰ˆæœ¬çš„ JavaScript ä»£ç </p>
</li>
<li><p>æ¨¡å—åŒ–å·¥å…· webpack,rollup</p>
</li>
</ol>
<h2 id="Class-å’Œæ„é€ å‡½æ•°"><a href="#Class-å’Œæ„é€ å‡½æ•°" class="headerlink" title="Class å’Œæ„é€ å‡½æ•°"></a>Class å’Œæ„é€ å‡½æ•°</h2><ol>
<li><p><code>typeof Class -&gt; &quot;function&quot;</code></p>
<p>class å…¶å®æ˜¯è¯­æ³•ç³–</p>
</li>
<li><p>Class ç»§æ‰¿</p>
<p>æœ¬è´¨ä½¿ç”¨çš„æ˜¯åŸå‹å¼ç»§æ‰¿</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span> <span class="hljs-title">extend</span> <span class="hljs-title">B</span></span>&#123;
  <span class="hljs-keyword">constructor</span> (name)&#123;
    <span class="hljs-keyword">super</span>(name)
    <span class="hljs-keyword">this</span>.name = name
     &#125;
  &#125;</code></pre></div>

<p><strong>super å°±æ˜¯çˆ¶ç±»çš„æ„é€ å‡½æ•°</strong></p>
<p><strong>super ä¼ å…¥ä»€ä¹ˆå‚æ•°å°±ç»§æ‰¿çˆ¶ç±»æ„é€ å‡½æ•°çš„ä»€ä¹ˆå±æ€§</strong></p>
</li>
</ol>
<h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><p>å®ä¾‹,é¡ºåºè¯»å– a,b,c ä¸‰ä¸ª txt æ–‡ä»¶</p>
<div class="hljs"><pre><code class="hljs javascript">onst fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>)

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFile</span>(<span class="hljs-params">fpath</span>) </span>&#123;
<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve,   reject</span>) </span>&#123;
fs.readFile(fpath, <span class="hljs-string">'utf-8'</span>, (err, dataStr)   =&gt; &#123;
<span class="hljs-comment">// if (err) throw (err)</span>
<span class="hljs-comment">// console.log(dataStr)</span>
<span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> reject(err)
resolve(dataStr)
&#125;)
&#125;)
&#125;
<span class="hljs-comment">//é¡ºåºè¯»å–abc</span>
<span class="hljs-comment">//thenä¹‹åç¬¬ä¸€ä¸ªfuncä»£è¡¨æ‰§è¡ŒæˆåŠŸçš„å›è°ƒ</span>
<span class="hljs-comment">//åœ¨ä¸Šä¸€ä¸ªthenä¸­è¿”å›ä¸‹ä¸€æ­¥çš„promiseå®ä¾‹ï¼Œåˆ™ä¸‹ä¸€ ä¸ªthenå°±å¯ä»¥ç»§ç»­è°ƒç”¨</span>
getFile(<span class="hljs-string">'./files/a.txt'</span>)
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>&#123;
<span class="hljs-built_in">console</span>.log(data)
<span class="hljs-keyword">return</span> getFile(<span class="hljs-string">'./files/b.txt'</span>)
&#125;).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>&#123;
<span class="hljs-built_in">console</span>.log(data)
<span class="hljs-keyword">return</span> getFile(<span class="hljs-string">'./files/c.txt'</span>)
&#125;).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>&#123;
<span class="hljs-built_in">console</span>.log(data)
&#125;)

<span class="hljs-comment">//æ·»åŠ å¤±è´¥å›è°ƒï¼Œä¸é˜»æ­¢åç»­çš„å›è°ƒæ‰§è¡Œ</span>
getFile(<span class="hljs-string">'./files/a.txt'</span>)
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>&#123;
<span class="hljs-built_in">console</span>.log(data)
<span class="hljs-keyword">return</span> getFile(<span class="hljs-string">'./files/777.txt'</span>)
&#125;, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>&#123;
<span class="hljs-built_in">console</span>.log(err.message)
<span class="hljs-keyword">return</span> getFile(<span class="hljs-string">'./files/b.txt'</span>)
&#125;).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>&#123;
<span class="hljs-built_in">console</span>.log(data)
<span class="hljs-keyword">return</span> getFile(<span class="hljs-string">'./files/c.txt'</span>)
&#125;, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>&#123;
<span class="hljs-built_in">console</span>.log(err.message)
<span class="hljs-keyword">return</span> getFile(<span class="hljs-string">'./files/c.txt'</span>)
&#125;).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>&#123;
<span class="hljs-built_in">console</span>.log(data)
&#125;)
<span class="hljs-comment">//å¦‚æœæœ‰ä»»æ„çš„æ‰§è¡Œå¤±è´¥ï¼Œç«‹å³ç»ˆæ­¢åç»­æ‰§è¡Œ</span>
getFile(<span class="hljs-string">'./files/999.txt'</span>)
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>&#123;
<span class="hljs-built_in">console</span>.log(data)
<span class="hljs-keyword">return</span> getFile(<span class="hljs-string">'./files/b.txt'</span>)
&#125;).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>&#123;
<span class="hljs-built_in">console</span>.log(data)
<span class="hljs-keyword">return</span> getFile(<span class="hljs-string">'./files/c.txt'</span>)
&#125;).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>&#123;
<span class="hljs-built_in">console</span>.log(data)
&#125;).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>&#123;
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'catchæ•è·'</span> + err.message)
&#125;)
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'å•¦å•¦å•¦'</span>)</code></pre></div>

<h2 id="ES6-ä¸­å£°æ˜å¯¹è±¡çš„æ–¹æ³•"><a href="#ES6-ä¸­å£°æ˜å¯¹è±¡çš„æ–¹æ³•" class="headerlink" title="ES6 ä¸­å£°æ˜å¯¹è±¡çš„æ–¹æ³•"></a>ES6 ä¸­å£°æ˜å¯¹è±¡çš„æ–¹æ³•</h2><ul>
<li>var</li>
<li>function</li>
<li>let</li>
<li>const</li>
<li>class</li>
<li>import</li>
</ul>
<h3 id="é¡¶å±‚å¯¹è±¡"><a href="#é¡¶å±‚å¯¹è±¡" class="headerlink" title="é¡¶å±‚å¯¹è±¡"></a>é¡¶å±‚å¯¹è±¡</h3><div class="hljs"><pre><code><div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;
<span class="hljs-comment">// å¦‚æœåœ¨ Node çš„ REPL ç¯å¢ƒï¼Œå¯ä»¥å†™æˆ       global.a</span>
<span class="hljs-comment">// æˆ–è€…é‡‡ç”¨é€šç”¨æ–¹æ³•ï¼Œå†™æˆ this.a</span>
<span class="hljs-built_in">window</span>.a <span class="hljs-comment">// 1</span>

<span class="hljs-keyword">let</span> b = <span class="hljs-number">1</span>;
<span class="hljs-built_in">window</span>.b <span class="hljs-comment">// undefined</span></code></pre></div></div>
ä¸Šé¢ä»£ç ä¸­ï¼Œå…¨å±€å˜é‡aç”±varå‘½ä»¤å£°æ˜ï¼Œæ‰€ä»¥å®ƒæ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§ï¼›å…¨å±€å˜é‡bç”±letå‘½ä»¤å£°æ˜ï¼Œæ‰€ä»¥å®ƒä¸æ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§ï¼Œè¿”å›undefined</code></pre><h3 id="GloablThis"><a href="#GloablThis" class="headerlink" title="GloablThis"></a>GloablThis</h3><ul>
<li>js åœ¨å„ç§è¿è¡Œç¯å¢ƒé‡Œé¡¶å±‚å¯¹è±¡ä¸ç»Ÿä¸€</li>
<li>æµè§ˆå™¨ä¸­ -&gt; <code>window</code></li>
<li>node ä¸­ â€”â€”&gt; <code>global</code></li>
</ul>
<h2 id="let"><a href="#let" class="headerlink" title="let"></a>let</h2><ul>
<li>ç”¨æ³•ç±»ä¼¼ var</li>
<li>å—çº§ä½œç”¨åŸŸ</li>
<li>ä¸å­˜åœ¨å˜é‡æå‡<blockquote>
<p>var å‘½ä»¤ä¼šå‘ç”Ÿâ€œå˜é‡æå‡â€ç°è±¡ï¼Œå³å˜é‡å¯ä»¥åœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨ï¼Œå€¼ä¸º undefinedã€‚</p>
</blockquote>
</li>
<li>æš‚æ—¶æ€§æ­»åŒº<blockquote>
<p>å—çº§ä½œç”¨åŸŸå†… let å£°æ˜çš„å˜é‡ä¸ä¼šå—è¯¥åŒºåŸŸå¤–éƒ¨çš„å½±å“</p>
</blockquote>
</li>
<li>ä¸å…è®¸é‡å¤å£°æ˜</li>
</ul>
<h2 id="const"><a href="#const" class="headerlink" title="const"></a>const</h2><ul>
<li>å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡</li>
<li>å€¼ä¸å¯æ”¹å˜</li>
<li>å£°æ˜åç«‹å³åˆå§‹åŒ–èµ‹å€¼</li>
<li>å—çº§ä½œç”¨åŸŸ</li>
<li>å˜é‡ä¸æå‡</li>
<li>æš‚æ—¶æ€§æ­»åŒº</li>
<li>ä¸å¯é‡å¤å£°æ˜<blockquote>
<p>const å®é™…ä¸Šä¿è¯çš„ï¼Œå¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€æ‰€ä¿å­˜çš„æ•°æ®ä¸å¾—æ”¹åŠ¨ã€‚å¯¹äºç®€å•ç±»å‹çš„æ•°æ®ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œå€¼å°±ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤ç­‰åŒäºå¸¸é‡ã€‚ä½†å¯¹äºå¤åˆç±»å‹çš„æ•°æ®ï¼ˆä¸»è¦æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼‰ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡å‘å®é™…æ•°æ®çš„æŒ‡é’ˆï¼Œconst åªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šçš„ï¼ˆå³æ€»æ˜¯æŒ‡å‘å¦ä¸€ä¸ªå›ºå®šçš„åœ°å€ï¼‰ï¼Œè‡³äºå®ƒæŒ‡å‘çš„æ•°æ®ç»“æ„æ˜¯ä¸æ˜¯å¯å˜çš„ï¼Œå°±å®Œå…¨ä¸èƒ½æ§åˆ¶äº†ã€‚å› æ­¤ï¼Œå°†ä¸€ä¸ªå¯¹è±¡å£°æ˜ä¸ºå¸¸é‡å¿…é¡»éå¸¸å°å¿ƒã€‚</p>
</blockquote>
</li>
</ul>
<h2 id="å¤šè¡Œå­—ç¬¦ä¸²-æ¨¡ç‰ˆå˜é‡"><a href="#å¤šè¡Œå­—ç¬¦ä¸²-æ¨¡ç‰ˆå˜é‡" class="headerlink" title="å¤šè¡Œå­—ç¬¦ä¸²/æ¨¡ç‰ˆå˜é‡"></a>å¤šè¡Œå­—ç¬¦ä¸²/æ¨¡ç‰ˆå˜é‡</h2><div class="hljs"><pre><code><div class="hljs"><pre><code class="hljs javascript"><span class="hljs-comment">//es5</span>
<span class="hljs-keyword">var</span> name = <span class="hljs-string">'mmm'</span>,age = <span class="hljs-number">20</span>,html = <span class="hljs-string">''</span>;
html += <span class="hljs-string">'&lt;div&gt;'</span>;
html += <span class="hljs-string">' &lt;p&gt;'</span> + name + <span class="hljs-string">'&lt;/p&gt;'</span>;
html += <span class="hljs-string">' &lt;p&gt;'</span> + age + <span class="hljs-string">'&lt;/p&gt;'</span>;
html += <span class="hljs-string">'&lt;/div&gt;'</span>;

<span class="hljs-comment">//es6</span>
<span class="hljs-keyword">const</span> name = <span class="hljs-string">'mmm'</span>,age = <span class="hljs-number">20</span>;
<span class="hljs-keyword">const</span> html = <span class="hljs-string">`&lt;div&gt;</span>
<span class="hljs-string">                &lt;p&gt;<span class="hljs-subst">$&#123;name&#125;</span>&lt;/p&gt;</span>
<span class="hljs-string">                &lt;p&gt;<span class="hljs-subst">$&#123;age&#125;</span>&lt;/p&gt;</span>
<span class="hljs-string">              &lt;/div&gt;`</span>

<span class="hljs-built_in">console</span>.log(html)</code></pre></div></div></code></pre><h2 id="è§£æ„èµ‹å€¼å’Œé»˜è®¤å€¼"><a href="#è§£æ„èµ‹å€¼å’Œé»˜è®¤å€¼" class="headerlink" title="è§£æ„èµ‹å€¼å’Œé»˜è®¤å€¼"></a>è§£æ„èµ‹å€¼å’Œé»˜è®¤å€¼</h2><p>è§£æ„èµ‹å€¼çš„ç”¨é€”ï¼š</p>
<ul>
<li>äº¤æ¢å˜é‡çš„å€¼</li>
<li>ä»å‡½æ•°è¿”å›å¤šä¸ªå€¼</li>
<li>å‡½æ•°å‚æ•°çš„å®šä¹‰</li>
<li>æå– JSON æ•°æ®</li>
<li>å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼</li>
<li>Map éå†<code>for (let [key, value] of map) {console.log(key + &quot; is &quot; + value);}</code></li>
<li>åŠ è½½æ¨¡å—æ—¶å€™æŒ‡å®šæ–¹æ³•<code>const { SourceMapConsumer, SourceNode } = require(&quot;source-map&quot;);</code></li>
</ul>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-comment">// normal</span>
<span class="hljs-keyword">let</span> [foo = <span class="hljs-literal">true</span>] = [];
foo <span class="hljs-comment">// true</span>

<span class="hljs-keyword">let</span> [x, y = <span class="hljs-string">'b'</span>] = [<span class="hljs-string">'a'</span>]; <span class="hljs-comment">// x='a', y='b'</span>
<span class="hljs-keyword">let</span> [x, y = <span class="hljs-string">'b'</span>] = [<span class="hljs-string">'a'</span>, <span class="hljs-literal">undefined</span>]; <span class="hljs-comment">// x='a', y='b'</span>

ï¼ï¼ï¼ï¼ï¼æ³¨æ„ï¼ŒES6 å†…éƒ¨ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ===ï¼‰ï¼Œåˆ¤æ–­ä¸€ä¸ªä½ç½®æ˜¯å¦æœ‰å€¼
<span class="hljs-comment">// é»˜è®¤å€¼</span>
<span class="hljs-keyword">let</span> [x = <span class="hljs-number">1</span>] = [<span class="hljs-literal">undefined</span>];
x <span class="hljs-comment">// 1</span>

<span class="hljs-keyword">let</span> [x = <span class="hljs-number">1</span>] = [<span class="hljs-literal">null</span>];
x <span class="hljs-comment">// null</span>

<span class="hljs-keyword">let</span> [x = <span class="hljs-number">1</span>, y = x] = [];     <span class="hljs-comment">// x=1; y=1</span>
<span class="hljs-keyword">let</span> [x = <span class="hljs-number">1</span>, y = x] = [<span class="hljs-number">2</span>];    <span class="hljs-comment">// x=2; y=2</span>
<span class="hljs-keyword">let</span> [x = <span class="hljs-number">1</span>, y = x] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]; <span class="hljs-comment">// x=1; y=2</span>
<span class="hljs-keyword">let</span> [x = y, y = <span class="hljs-number">1</span>] = [];     <span class="hljs-comment">// ReferenceError: y is not defined</span></code></pre></div>

<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-comment">// å¯¹è±¡çš„è§£æ„èµ‹å€¼</span>
<span class="hljs-comment">// å’Œé¡ºåºæ— å…³ï¼Œkeyvalueå¯¹åº”å°±è¡Œ</span>
<span class="hljs-keyword">let</span> &#123; <span class="hljs-attr">foo</span>: foo, <span class="hljs-attr">bar</span>: bar &#125; = &#123; <span class="hljs-attr">foo</span>: <span class="hljs-string">"aaa"</span>, <span class="hljs-attr">bar</span>: <span class="hljs-string">"bbb"</span> &#125;;
<span class="hljs-keyword">let</span> &#123; foo, bar &#125; = &#123; <span class="hljs-attr">foo</span>: <span class="hljs-string">"aaa"</span>, <span class="hljs-attr">bar</span>: <span class="hljs-string">"bbb"</span> &#125;;
foo; <span class="hljs-comment">// "aaa"</span>
bar; <span class="hljs-comment">// "bbb"</span>
<span class="hljs-comment">// é»˜è®¤å€¼</span>
<span class="hljs-keyword">var</span> &#123; x = <span class="hljs-number">3</span> &#125; = &#123;&#125;;
x; <span class="hljs-comment">// 3</span>

<span class="hljs-keyword">var</span> &#123; x, y = <span class="hljs-number">5</span> &#125; = &#123; <span class="hljs-attr">x</span>: <span class="hljs-number">1</span> &#125;;
x; <span class="hljs-comment">// 1</span>
y; <span class="hljs-comment">// 5</span>

<span class="hljs-keyword">var</span> &#123; <span class="hljs-attr">x</span>: y = <span class="hljs-number">3</span> &#125; = &#123;&#125;;
y; <span class="hljs-comment">// 3</span>

<span class="hljs-keyword">var</span> &#123; <span class="hljs-attr">x</span>: y = <span class="hljs-number">3</span> &#125; = &#123; <span class="hljs-attr">x</span>: <span class="hljs-number">5</span> &#125;;
y; <span class="hljs-comment">// 5</span>

<span class="hljs-keyword">var</span> &#123; <span class="hljs-attr">message</span>: msg = <span class="hljs-string">"Something went    wrong"</span> &#125; = &#123;&#125;;
msg; <span class="hljs-comment">// "Something went wrong"</span>

<span class="hljs-comment">//é»˜è®¤å€¼ç”Ÿæ•ˆçš„æ¡ä»¶æ˜¯ï¼Œå¯¹è±¡çš„å±æ€§å€¼ä¸¥æ ¼ç­‰äºundefined</span>
<span class="hljs-keyword">var</span> &#123; x = <span class="hljs-number">3</span> &#125; = &#123; <span class="hljs-attr">x</span>: <span class="hljs-literal">undefined</span> &#125;;
x; <span class="hljs-comment">// 3</span>

<span class="hljs-keyword">var</span> &#123; x = <span class="hljs-number">3</span> &#125; = &#123; <span class="hljs-attr">x</span>: <span class="hljs-literal">null</span> &#125;;
x; <span class="hljs-comment">// null</span></code></pre></div>

<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-comment">//å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼ï¼Œå­—ç¬¦ä¸²è¢«è½¬æ¢ä¸ºè•¾ä¸æ•°ç»„çš„å¯¹è±¡</span>
<span class="hljs-keyword">const</span> [a, b, c, d, e] = <span class="hljs-string">'hello'</span>;
a <span class="hljs-comment">// "h"</span>
b <span class="hljs-comment">// "e"</span>
c <span class="hljs-comment">// "l"</span>
d <span class="hljs-comment">// "l"</span>
e <span class="hljs-comment">// "o"</span>

<span class="hljs-comment">// æ•°å€¼å’Œå¸ƒå°”å€¼çš„è§£æ„èµ‹å€¼</span>
<span class="hljs-keyword">let</span> &#123;<span class="hljs-attr">toString</span>: s&#125; = <span class="hljs-number">123</span>;
s === <span class="hljs-built_in">Number</span>.prototype.toString <span class="hljs-comment">// true</span>

<span class="hljs-keyword">let</span> &#123;<span class="hljs-attr">toString</span>: s&#125; = <span class="hljs-literal">true</span>;
s === <span class="hljs-built_in">Boolean</span>.prototype.toString <span class="hljs-comment">// true</span>
è§£æ„èµ‹å€¼çš„è§„åˆ™æ˜¯ï¼Œåªè¦ç­‰å·å³è¾¹çš„å€¼ä¸æ˜¯å¯¹è±¡æˆ–æ•°ç»„ï¼Œå°±å…ˆå°†å…¶è½¬ä¸ºå¯¹è±¡ã€‚ç”±äº<span class="hljs-literal">undefined</span>å’Œ<span class="hljs-literal">null</span>æ— æ³•è½¬ä¸ºå¯¹è±¡ï¼Œæ‰€ä»¥å¯¹å®ƒä»¬è¿›è¡Œè§£æ„èµ‹å€¼ï¼Œéƒ½ä¼šæŠ¥é”™ã€‚
<span class="hljs-keyword">let</span> &#123; <span class="hljs-attr">prop</span>: x &#125; = <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// TypeError</span>
<span class="hljs-keyword">let</span> &#123; <span class="hljs-attr">prop</span>: y &#125; = <span class="hljs-literal">null</span>; <span class="hljs-comment">// TypeError</span>

<span class="hljs-comment">// å‡½æ•°å‚æ•°çš„è§£æ„èµ‹æ³¨</span></code></pre></div>

<h2 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h2><div class="hljs"><pre><code class="hljs javascript"><span class="hljs-comment">//es5</span>
<span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
arr = arr.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>&#123;
  <span class="hljs-keyword">return</span> item + <span class="hljs-number">1</span>;
&#125;);

<span class="hljs-comment">//es6</span>
<span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
arr = arr.map(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item + <span class="hljs-number">1</span>);

<span class="hljs-comment">// thisçš„æŒ‡å‘</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span>(<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>); <span class="hljs-comment">// &#123;a:666&#125;</span>
  <span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];

  arr.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>&#123;
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"js"</span>, <span class="hljs-keyword">this</span>); <span class="hljs-comment">// window</span>
    <span class="hljs-keyword">return</span> item + <span class="hljs-number">1</span>;
  &#125;);

  arr.map(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"es6"</span>, <span class="hljs-keyword">this</span>); <span class="hljs-comment">// &#123;a:666&#125;</span>
    <span class="hljs-keyword">return</span> item + <span class="hljs-number">1</span>;
  &#125;);
&#125;
fn.call(&#123; <span class="hljs-attr">a</span>: <span class="hljs-number">666</span> &#125;);</code></pre></div>

<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> elements = [<span class="hljs-string">"Hydrogen"</span>, <span class="hljs-string">"Helium"</span>, <span class="hljs-string">"Lithium"</span>, <span class="hljs-string">"Beryllium"</span>];

elements.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>&#123;
  <span class="hljs-keyword">return</span> element.length;
&#125;); <span class="hljs-comment">// è¿”å›æ•°ç»„ï¼š[8, 6, 7, 9]</span>

<span class="hljs-comment">// ä¸Šé¢çš„æ™®é€šå‡½æ•°å¯ä»¥æ”¹å†™æˆå¦‚ä¸‹çš„ç®­å¤´å‡½æ•°</span>
elements.map(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> &#123;
  <span class="hljs-keyword">return</span> element.length;
&#125;); <span class="hljs-comment">// [8, 6, 7, 9]</span>

<span class="hljs-comment">// å½“ç®­å¤´å‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ï¼Œå¯ä»¥çœç•¥å‚æ•°çš„åœ†æ‹¬å·</span>
elements.map(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> &#123;
  <span class="hljs-keyword">return</span> element.length;
&#125;); <span class="hljs-comment">// [8, 6, 7, 9]</span>

<span class="hljs-comment">// å½“ç®­å¤´å‡½æ•°çš„å‡½æ•°ä½“åªæœ‰ä¸€ä¸ª `return` è¯­å¥æ—¶ï¼Œå¯ä»¥çœç•¥ `return` å…³é”®å­—å’Œæ–¹æ³•ä½“çš„èŠ±æ‹¬å·</span>
elements.map(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> element.length); <span class="hljs-comment">// [8, 6, 7, 9]</span>

<span class="hljs-comment">// åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå› ä¸ºæˆ‘ä»¬åªéœ€è¦ `length` å±æ€§ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨å‚æ•°è§£æ„</span>
<span class="hljs-comment">// éœ€è¦æ³¨æ„çš„æ˜¯å­—ç¬¦ä¸² `"length"` æ˜¯æˆ‘ä»¬æƒ³è¦è·å¾—çš„å±æ€§çš„åç§°ï¼Œè€Œ `lengthFooBArX` åˆ™åªæ˜¯ä¸ªå˜é‡åï¼Œ</span>
<span class="hljs-comment">// å¯ä»¥æ›¿æ¢æˆä»»æ„åˆæ³•çš„å˜é‡å</span>
elements.map(<span class="hljs-function">(<span class="hljs-params">&#123; length: lengthFooBArX &#125;</span>) =&gt;</span> lengthFooBArX); <span class="hljs-comment">// [8, 6, 7, 9]</span></code></pre></div>

<p><strong>!!!!!!!!ç®­å¤´å‡½æ•°ä¸ä¼šåˆ›å»ºè‡ªå·±çš„ this,å®ƒåªä¼šä»è‡ªå·±çš„ä½œç”¨åŸŸé“¾çš„ä¸Šä¸€å±‚ç»§æ‰¿ this</strong></p>
<h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><ul>
<li>ES6 æä¾›äº†æ–°çš„æ•°æ®ç»“æ„ Setã€‚å®ƒç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ã€‚</li>
</ul>
<div class="hljs"><pre><code class="hljs javascript">s.add(<span class="hljs-number">1</span>)
  .add(<span class="hljs-number">2</span>)
  .add(<span class="hljs-number">2</span>);
<span class="hljs-comment">// æ³¨æ„2è¢«åŠ å…¥äº†ä¸¤æ¬¡</span>

s.size; <span class="hljs-comment">// 2</span>

s.has(<span class="hljs-number">1</span>); <span class="hljs-comment">// true</span>
s.has(<span class="hljs-number">2</span>); <span class="hljs-comment">// true</span>
s.has(<span class="hljs-number">3</span>); <span class="hljs-comment">// false</span>

s.delete(<span class="hljs-number">2</span>);
s.has(<span class="hljs-number">2</span>); <span class="hljs-comment">// false</span></code></pre></div>

<ul>
<li>éå†æ“ä½œ</li>
</ul>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> <span class="hljs-keyword">set</span> = new Set(["red", "green", "blue"]);

for (let item of <span class="hljs-keyword">set</span>.keys()) &#123;
  <span class="hljs-built_in">console</span>.log(item);
&#125;
<span class="hljs-comment">// red</span>
<span class="hljs-comment">// green</span>
<span class="hljs-comment">// blue</span>

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> <span class="hljs-keyword">set</span>.values()) &#123;
  <span class="hljs-built_in">console</span>.log(item);
&#125;
<span class="hljs-comment">// red</span>
<span class="hljs-comment">// green</span>
<span class="hljs-comment">// blue</span>

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> <span class="hljs-keyword">set</span>.entries()) &#123;
  <span class="hljs-built_in">console</span>.log(item);
&#125;
<span class="hljs-comment">// ["red", "red"]</span>
<span class="hljs-comment">// ["green", "green"]</span>
<span class="hljs-comment">// ["blue", "blue"]</span>

<span class="hljs-keyword">let</span> <span class="hljs-keyword">set</span> = new Set(["red", "green", "blue"]);

for (let x of <span class="hljs-keyword">set</span>) &#123;
  <span class="hljs-built_in">console</span>.log(x);
&#125;
<span class="hljs-comment">// red</span>
<span class="hljs-comment">// green</span>
<span class="hljs-comment">// blue</span></code></pre></div>

<ul>
<li>forEach()</li>
</ul>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> <span class="hljs-keyword">set</span> = new Set([1, 4, 9]);
<span class="hljs-keyword">set</span>.forEach((value, key) =&gt; console.log(key + " : " + value));
// 1 : 1
// 4 : 4
// 9 : 9</code></pre></div>

<ul>
<li>æ‰©å±•è¿ç®—ç¬¦</li>
</ul>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> <span class="hljs-keyword">set</span> = new Set(["red", "green", "blue"]);
let arr = [...<span class="hljs-keyword">set</span>];
// ['red', 'green', 'blue']

//æ•°ç»„å»é‡
let arr = [3, 5, 2, 2, 5, 5];
let unique = [...new Set(arr)];
// [3, 5, 2]

let <span class="hljs-keyword">set</span> = new Set([1, 2, 3]);
<span class="hljs-keyword">set</span> = new Set([...<span class="hljs-keyword">set</span>].map(x =&gt; x * 2));
// è¿”å›Setç»“æ„ï¼š&#123;<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>&#125;

<span class="hljs-keyword">let</span> <span class="hljs-keyword">set</span> = new Set([1, 2, 3, 4, 5]);
<span class="hljs-keyword">set</span> = new Set([...<span class="hljs-keyword">set</span>].filter(x =&gt; x % 2 == 0));
// è¿”å›Setç»“æ„ï¼š&#123;<span class="hljs-number">2</span>, <span class="hljs-number">4</span>&#125;

<span class="hljs-comment">//let a = new Set([1, 2, 3]);</span>
<span class="hljs-keyword">let</span> b = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>([<span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>]);

<span class="hljs-comment">// å¹¶é›†</span>
<span class="hljs-keyword">let</span> union = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>([...a, ...b]);
<span class="hljs-comment">// Set &#123;1, 2, 3, 4&#125;</span>

<span class="hljs-comment">// äº¤é›†</span>
<span class="hljs-keyword">let</span> intersect = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>([...a].filter(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> b.has(x)));
<span class="hljs-comment">// set &#123;2, 3&#125;</span>

<span class="hljs-comment">// å·®é›†</span>
<span class="hljs-keyword">let</span> difference = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>([...a].filter(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> !b.has(x)));
<span class="hljs-comment">// Set &#123;1&#125;</span></code></pre></div>

<h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><h3 id="js-çš„å¯¹è±¡-Object-çš„é”®ä¼ ç»Ÿä¸Šåªèƒ½ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ä¸Šæœ‰é™åˆ¶"><a href="#js-çš„å¯¹è±¡-Object-çš„é”®ä¼ ç»Ÿä¸Šåªèƒ½ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ä¸Šæœ‰é™åˆ¶" class="headerlink" title="js çš„å¯¹è±¡ Object çš„é”®ä¼ ç»Ÿä¸Šåªèƒ½ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ä¸Šæœ‰é™åˆ¶"></a>js çš„å¯¹è±¡ Object çš„é”®ä¼ ç»Ÿä¸Šåªèƒ½ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ä¸Šæœ‰é™åˆ¶</h3><div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> data = &#123;&#125;;
<span class="hljs-keyword">const</span> element = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'myDiv'</span>);

data[element] = <span class="hljs-string">'metadata'</span>;
data[<span class="hljs-string">'[object HTMLDivElement]'</span>]
<span class="hljs-comment">// "metadata"</span>
ç”±äºå¯¹è±¡åªæ¥å—å­—ç¬¦ä¸²ä½œä¸ºé”®åï¼Œæ‰€ä»¥elementè¢«è‡ªåŠ¨è½¬ä¸ºå­—ç¬¦ä¸²[object HTMLDivElement]ã€‚</code></pre></div>

<h3 id="ES6-æä¾›äº†-Map-æ•°æ®ç»“æ„ã€‚å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚"><a href="#ES6-æä¾›äº†-Map-æ•°æ®ç»“æ„ã€‚å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚" class="headerlink" title="ES6 æä¾›äº† Map æ•°æ®ç»“æ„ã€‚å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚"></a>ES6 æä¾›äº† Map æ•°æ®ç»“æ„ã€‚å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚</h3><div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> items = [
  [<span class="hljs-string">"name"</span>, <span class="hljs-string">"å¼ ä¸‰"</span>],
  [<span class="hljs-string">"title"</span>, <span class="hljs-string">"Author"</span>]
];

<span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>();

items.forEach(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> map.set(key, value));</code></pre></div>

<h3 id="Map-çš„å±æ€§å’Œæ–¹æ³•"><a href="#Map-çš„å±æ€§å’Œæ–¹æ³•" class="headerlink" title="Map çš„å±æ€§å’Œæ–¹æ³•"></a>Map çš„å±æ€§å’Œæ–¹æ³•</h3><ul>
<li>size</li>
<li>set(key,value) // è¿”å›æ•´ä¸ª Map ç»“æ„</li>
<li>get() // æ‰¾ä¸åˆ°è¯¥ key è¿”å› undefined</li>
<li>has()</li>
<li>delete() // åˆ é™¤å¤±è´¥è¿”å› false</li>
<li>clear() // æ— è¿”å›å€¼</li>
</ul>
<h3 id="éå†æ–¹æ³•"><a href="#éå†æ–¹æ³•" class="headerlink" title="éå†æ–¹æ³•"></a>éå†æ–¹æ³•</h3><div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>([
  [<span class="hljs-string">"F"</span>, <span class="hljs-string">"no"</span>],
  [<span class="hljs-string">"T"</span>, <span class="hljs-string">"yes"</span>]
]);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">of</span> map.keys()) &#123;
  <span class="hljs-built_in">console</span>.log(key);
&#125;
<span class="hljs-comment">// "F"</span>
<span class="hljs-comment">// "T"</span>

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> value <span class="hljs-keyword">of</span> map.values()) &#123;
  <span class="hljs-built_in">console</span>.log(value);
&#125;
<span class="hljs-comment">// "no"</span>
<span class="hljs-comment">// "yes"</span>

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> map.entries()) &#123;
  <span class="hljs-built_in">console</span>.log(item[<span class="hljs-number">0</span>], item[<span class="hljs-number">1</span>]);
&#125;
<span class="hljs-comment">// "F" "no"</span>
<span class="hljs-comment">// "T" "yes"</span>

<span class="hljs-comment">// æˆ–è€…</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> [key, value] <span class="hljs-keyword">of</span> map.entries()) &#123;
  <span class="hljs-built_in">console</span>.log(key, value);
&#125;
<span class="hljs-comment">// "F" "no"</span>
<span class="hljs-comment">// "T" "yes"</span>

<span class="hljs-comment">// ç­‰åŒäºä½¿ç”¨map.entries()</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> [key, value] <span class="hljs-keyword">of</span> map) &#123;
  <span class="hljs-built_in">console</span>.log(key, value);
&#125;
<span class="hljs-comment">// "F" "no"</span>
<span class="hljs-comment">// "T" "yes"</span></code></pre></div>

<h3 id="ä¸å…¶ä»–æ•°æ®ç±»å‹çš„äº’ç›¸è½¬æ¢"><a href="#ä¸å…¶ä»–æ•°æ®ç±»å‹çš„äº’ç›¸è½¬æ¢" class="headerlink" title="ä¸å…¶ä»–æ•°æ®ç±»å‹çš„äº’ç›¸è½¬æ¢"></a>ä¸å…¶ä»–æ•°æ®ç±»å‹çš„äº’ç›¸è½¬æ¢</h3><p>ã€‚ã€‚ã€‚</p>
<h2 id="async-å‡½æ•°"><a href="#async-å‡½æ•°" class="headerlink" title="async å‡½æ•°"></a>async å‡½æ•°</h2><h3 id="Generator-å‡½æ•°çš„è¯­æ³•ç³–"><a href="#Generator-å‡½æ•°çš„è¯­æ³•ç³–" class="headerlink" title="Generator å‡½æ•°çš„è¯­æ³•ç³–"></a>Generator å‡½æ•°çš„è¯­æ³•ç³–</h3><p>async å‡½æ•°å°±æ˜¯å°† Generator å‡½æ•°çš„æ˜Ÿå·ï¼ˆ*ï¼‰æ›¿æ¢æˆ asyncï¼Œå°† yield æ›¿æ¢æˆ awaitã€‚<br>å¯ä»¥çœ‹ä½œæ˜¯å¤šä¸ªå¼‚æ­¥æ“ä½œåŒ…è£…æˆçš„ Promise å¯¹è±¡ï¼Œawaitï¼Œå‘½ä»¤å°±æ˜¯å†…éƒ¨ then å‘½ä»¤çš„è¯­æ³•ç³–ã€‚</p>
<h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><p>async å‡½æ•°è¿”å› Promise å¯¹è±¡ï¼Œå¿…é¡»ç­‰åˆ°æ‰€æœ‰ await æ‰§è¡Œå®Œæˆ–è€… returnï¼Œæ‰ä¼šæ‰§è¡Œ then</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTitle</span>(<span class="hljs-params">url</span>) </span>&#123;
  <span class="hljs-keyword">let</span> response = <span class="hljs-keyword">await</span> fetch(url);
  <span class="hljs-keyword">let</span> html = <span class="hljs-keyword">await</span> response.text();
  <span class="hljs-keyword">return</span> html.match(<span class="hljs-regexp">/&lt;title&gt;([\s\S]+)&lt;\/title&gt;/i</span>)[<span class="hljs-number">1</span>];
&#125;
getTitle(<span class="hljs-string">"https://tc39.github.io/ecma262/"</span>).then(<span class="hljs-built_in">console</span>.log);</code></pre></div>

<h3 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h3><p>await å‘½ä»¤åé¢çš„ Promise å¯¹è±¡ï¼Œè¿è¡Œç»“æœå¯èƒ½æ˜¯ rejectedï¼Œæ‰€ä»¥æœ€å¥½æŠŠ await å‘½ä»¤æ”¾åœ¨ tryâ€¦catch ä»£ç å—ä¸­.</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">try</span> &#123;
  <span class="hljs-keyword">await</span> func();
&#125; <span class="hljs-keyword">catch</span> (err) &#123;
  <span class="hljs-built_in">console</span>.log(err);
&#125;
<span class="hljs-comment">//æˆ–è€…ç›´æ¥å†™æˆ</span>
<span class="hljs-keyword">await</span> func().catch(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>) </span>&#123;
  <span class="hljs-built_in">console</span>.log(err);
&#125;);</code></pre></div>

<p>å¦‚æœ await æ“ä½œæˆåŠŸï¼Œå°±ä¼šä½¿ç”¨ break è¯­å¥é€€å‡ºå¾ªç¯ï¼›å¦‚æœå¤±è´¥ï¼Œä¼šè¢« catch è¯­å¥æ•æ‰ï¼Œç„¶åè¿›å…¥ä¸‹ä¸€è½®å¾ªç¯ã€‚</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> superagent = <span class="hljs-built_in">require</span>(<span class="hljs-string">"superagent"</span>);
<span class="hljs-keyword">const</span> NUM_RETRIES = <span class="hljs-number">3</span>;

<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-keyword">let</span> i;
  <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; NUM_RETRIES; ++i) &#123;
    <span class="hljs-keyword">try</span> &#123;
      <span class="hljs-keyword">await</span> superagent.get(<span class="hljs-string">"http://google.com/this-throws-an-error"</span>);
      <span class="hljs-keyword">break</span>;
    &#125; <span class="hljs-keyword">catch</span> (err) &#123;&#125;
  &#125;
  <span class="hljs-built_in">console</span>.log(i); <span class="hljs-comment">// 3</span>
&#125;

test();</code></pre></div>

<h2 id="other"><a href="#other" class="headerlink" title="other"></a>other</h2><ul>
<li><code>...args</code>å‡½æ•°çš„å‚æ•°æ•°ç»„</li>
<li><code>...rest</code>å‡½æ•°çš„å‰©ä½™å‚æ•°</li>
</ul>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E9%9D%A2%E8%AF%95/">é¢è¯•</a>
                    
                      <a class="hover-with-bg" href="/tags/javascript/">javascript</a>
                    
                      <a class="hover-with-bg" href="/tags/ES6/">ES6</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" target="_blank" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>
              
              
                <div class="post-prevnext row">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2019/04/28/virtual%20dom/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">virtual domè™šæ‹ŸDOM</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2019/04/25/flex%E5%B8%83%E5%B1%80%E5%AE%9E%E4%BE%8B/">
                        <span class="hidden-mobile">flexå¸ƒå±€å®ä¾‹</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    
  <div class="statistics">
    
    

    
      
        <!-- ä¸è’œå­ç»Ÿè®¡PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            æ€»è®¿é—®é‡ 
            <span id="busuanzi_value_site_pv"></span>
             æ¬¡
          </span>
      
      
        <!-- ä¸è’œå­ç»Ÿè®¡UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            æ€»è®¿å®¢æ•° 
            <span id="busuanzi_value_site_uv"></span>
             äºº
          </span>
      
    
  </div>


    
  <!-- å¤‡æ¡ˆä¿¡æ¯ -->
  <div class="beian">
    <a href="http://beian.miit.gov.cn/" target="_blank"
       rel="nofollow noopener">ç²¤ICPå¤‡2020115702å·</a>
    
  </div>


    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '#post-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "ES6&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>

















  
    <!-- Baidu Analytics -->
    <script defer>
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?048f7ae77dbb92c9d2c83ca3df99d02f";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  

  

  

  

  





</body>
</html>
