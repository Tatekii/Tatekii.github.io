

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;dark&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/images/favicon.png">
  <link rel="icon" href="/images/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="tatekii">
  <meta name="keywords" content="">
  
  <title>webå®‰å…¨ - ä¸çŸ¥åçš„ç¬”è®°æœ¬</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/styles/atom-one-dark.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","version":"1.8.9-a","typing":{"enable":true,"typeSpeed":50,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":"#"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>DrğŸ Note</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="webå®‰å…¨">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-04-13 01:09" pubdate>
        2021å¹´4æœˆ13æ—¥ å‡Œæ™¨
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      1.6k å­—
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      21
       åˆ†é’Ÿ
    </span>
  

  
  
    
      <!-- ä¸è’œå­ç»Ÿè®¡æ–‡ç« PV -->
      <span id="busuanzi_container_page_pv" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="busuanzi_value_page_pv"></span> æ¬¡
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">webå®‰å…¨</h1>
            
              <p class="note note-info">
                
                  æœ¬æ–‡æœ€åæ›´æ–°äºï¼š2021å¹´4æœˆ13æ—¥ å‡Œæ™¨
                
              </p>
            
            <div class="markdown-body">
              <h2 id="åŒæºç­–ç•¥"><a href="#åŒæºç­–ç•¥" class="headerlink" title="åŒæºç­–ç•¥"></a>åŒæºç­–ç•¥</h2><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><ul>
<li>ä¸¤ä¸ªURl <strong>!åŒåè®® !åŒåŸŸå !åŒç«¯å£</strong></li>
<li>åŒæºç­–ç•¥é™åˆ¶äº†åŒä¸€ä¸ªæºåŠ è½½çš„è„šæœ¬å’Œæ–‡æ¡£å¦‚ä½•ä¸å…¶ä»–æºçš„èµ„æºè¿›è¡Œäº¤äº’ï¼ŒåŒ…æ‹¬jsè„šæœ¬ï¼Œç¼“å­˜çš„è¯»å–ï¼Œcookieï¼Œajaxç­‰</li>
<li>ä¸‰ç§æ ‡ç­¾ä¸å—åŒæºé™åˆ¶<code>script</code> <code>link</code> <code>img</code></li>
</ul>
<h3 id="è·¨åŸŸçš„æ–¹æ³•"><a href="#è·¨åŸŸçš„æ–¹æ³•" class="headerlink" title="è·¨åŸŸçš„æ–¹æ³•"></a>è·¨åŸŸçš„æ–¹æ³•</h3><ul>
<li><p>ä»£ç†æœåŠ¡å™¨-<code>nginx,devServerç­‰</code></p>
</li>
<li><p>æ›´æ”¹é¡µé¢çš„æº<code>document.domain</code></p>
<div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-string">&#x27;someWebSite.com/dir1/pageA.html&#x27;</span>
<span class="hljs-string">&#x27;someWebSite.com/dir2/pageB.html&#x27;</span>
éƒ½è®¾ç½®<span class="hljs-built_in">document</span>.domain = <span class="hljs-string">&#x27;someWebSite.com&#x27;</span>
åˆ™ä»–ä»¬ä¹‹é—´é€šä¿¡å°†é€šè¿‡åŒæºæ£€æµ‹ï¼Œå¹¶éƒ½è®¿é—®çˆ¶æºçš„cookie</code></pre></div></li>
<li><p><code>postMessage</code></p>
<div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">// pageAé€šè¿‡iframeåµŒå…¥äº†pageB</span>
<span class="hljs-comment">// pageAä¸­ä»£ç </span>
<span class="hljs-built_in">window</span>.iframe[i].postMessage(<span class="hljs-string">&#x27;data&#x27;</span>,<span class="hljs-string">&#x27;pqgeBçš„URL&#x27;</span>)
<span class="hljs-comment">// pageBä¸­çš„ä»£ç </span>
<span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">&#x27;message&#x27;</span>,<span class="hljs-function"><span class="hljs-title">funciton</span>(<span class="hljs-params">e</span>)</span>&#123;
    <span class="hljs-built_in">console</span>.log(e.data)     <span class="hljs-comment">// data</span>
    <span class="hljs-built_in">console</span>.log(e.source)   <span class="hljs-comment">// aä¸­windowçš„å¼•ç”¨</span>
    <span class="hljs-built_in">console</span>.log(e.oringin)  <span class="hljs-comment">// pageAçš„URL</span>
&#125;,<span class="hljs-literal">false</span>)

<span class="hljs-comment">// åè¿‡æ¥pageBå‘pageAå‘é€æ•°æ®</span>
<span class="hljs-comment">// åœ¨pageAä¸­åŠ å…¥window.addEventListener</span>
<span class="hljs-comment">// åœ¨pageBä¸­e.source.postMessage</span>
</code></pre></div></li>
<li><p><code>iframe</code>+<code>hash</code></p>
<div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">// pageAé€šè¿‡iframeåµŒå…¥äº†pageB</span>
<span class="hljs-keyword">var</span> B = <span class="hljs-built_in">document</span>.getElementByTagName(<span class="hljs-string">&quot;iframe&quot;</span>);
B.src = B.src + <span class="hljs-string">&quot;#&quot;</span> + <span class="hljs-string">&quot;data&quot;</span>;

<span class="hljs-comment">// pageBä¸­çš„ä»£ç </span>
<span class="hljs-built_in">window</span>.onhashchange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>&#123;
data = <span class="hljs-built_in">window</span>.location.hash; <span class="hljs-comment">//  &lt;-  pageBå°±è·å–åˆ°äº†hashå€¼</span>
&#125;;</code></pre></div></li>
<li><p><code>jsonp</code></p>
</li>
</ul>
  <div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">jsonp</span>(<span class="hljs-params">&#123; url, params, callback &#125;</span>) </span>&#123;
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formatParams</span>(<span class="hljs-params"></span>)</span>&#123;
    <span class="hljs-keyword">const</span> attrs = []
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> [key,value] <span class="hljs-keyword">of</span> <span class="hljs-built_in">Object</span>.entries(params))&#123;
      attrs.push(<span class="hljs-string">`<span class="hljs-subst">$&#123;key&#125;</span>=<span class="hljs-subst">$&#123;value&#125;</span>`</span>)
    &#125;
    attrs.push(<span class="hljs-string">`callback=<span class="hljs-subst">$&#123;callback&#125;</span>`</span>)
    <span class="hljs-keyword">return</span> attrs.join(<span class="hljs-string">&#x27;&amp;)</span>
<span class="hljs-string">  &#125;</span>
<span class="hljs-string">  return new Promise((resolve,reject)=&gt;&#123;</span>
<span class="hljs-string">    const script = document.createElement(&#x27;</span>script<span class="hljs-string">&#x27;)</span>
<span class="hljs-string">    script.src = url+&#x27;</span>?<span class="hljs-string">&#x27;+formatParams()</span>
<span class="hljs-string">    try&#123;</span>
<span class="hljs-string">      window[callback] = function(data)&#123;</span>
<span class="hljs-string">        resolve(data)</span>
<span class="hljs-string">        document.removeChild(script)</span>
<span class="hljs-string">      &#125;</span>
<span class="hljs-string">    &#125;catch(err)&#123;</span>
<span class="hljs-string">      reject(err)</span>
<span class="hljs-string">    &#125;</span>
<span class="hljs-string">  &#125;)</span>
<span class="hljs-string">&#125;</span></code></pre></div>
  <div class="hljs code-wrapper"><pre><code class="hljs js"><span class="hljs-comment">// å‘é€</span>
jsonp(&#123;
url: <span class="hljs-string">&quot;http://localhost:3000/jsptest&quot;</span>,
params: &#123; <span class="hljs-attr">msg</span>: <span class="hljs-string">&quot;jsptestmessage&quot;</span> &#125;,
callback: <span class="hljs-string">&quot;jsonpCallback&quot;</span>
&#125;).then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> &#123;
<span class="hljs-comment">//å¤„ç†data</span>
    &#125;);</code></pre></div>
<ul>
<li><p><code>imgPing</code><strong>æ·»åŠ imgæ ‡ç­¾srcä¸­æ”¾å…¥getè¯·æ±‚</strong></p>
<div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> img = <span class="hljs-keyword">new</span> Image();
img.onload = img.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;
    alert(<span class="hljs-string">&quot;å·²å‘é€&quot;</span>);
&#125;;
img.src = <span class="hljs-string">&quot;http://xxx.xxx.com/query?key=value&quot;</span>;
<span class="hljs-comment">// è®¾ç½®å®Œsrcå±æ€§é‚£ä¸€åˆ»å¼€å§‹è¯·æ±‚å°±å‘é€äº†</span></code></pre></div></li>
<li><p><code>CORS</code>è·¨åŸŸèµ„æºå…±äº«ï¼ˆè¯¦è§ä¸‹æ–‡ï¼‰</p>
</li>
<li><p><code>websocket</code>åè®®</p>
<ul>
<li><p>ä½¿ç”¨<code>websocket</code>åè®®,éœ€è¦è½¬åè®®</p>
<ol>
<li>å®¢æˆ·ç«¯è¯·æ±‚</li>
</ol>
<div class="hljs code-wrapper"><pre><code class="hljs avrasm"><span class="hljs-symbol">Connection:</span> Upgrade
<span class="hljs-symbol">Upgrade:</span> websocket</code></pre></div>

<ol start="2">
<li>æœåŠ¡ç«¯å“åº”åè®®å‡çº§</li>
</ol>
<div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">HTTP</span>/<span class="hljs-number">1</span>.<span class="hljs-number">1</span> <span class="hljs-number">101</span> Switching Protocols</code></pre></div></li>
<li><p>æ„é€ å‡½æ•°å°±è¦ä¼ å…¥<code>ç»å¯¹URL</code></p>
</li>
<li><p>å…¨åŒå·¥ï¼ŒåŒå‘é€šä¿¡</p>
</li>
<li><p>æœåŠ¡ç«¯æ¨é€</p>
</li>
<li><p>åŸºäº TCP ä¼ è¾“åè®®ï¼Œå¹¶å¤ç”¨ HTTP çš„æ¡æ‰‹é€šé“</p>
</li>
</ul>
</li>
<li><p><code>Fetch</code>æ–°API</p>
<div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">postData</span>(<span class="hljs-params">url, data</span>) </span>&#123;
<span class="hljs-comment">// Default options are marked with *</span>
  <span class="hljs-keyword">return</span> fetch(url, &#123;
      body: <span class="hljs-built_in">JSON</span>.stringify(data), <span class="hljs-comment">// must match &#x27;Content-Type&#x27; header</span>
      cache: <span class="hljs-string">&quot;no-cache&quot;</span>, <span class="hljs-comment">// *default, no-cache, reload, force-cache, only-if-cached</span>
      credentials: <span class="hljs-string">&quot;same-origin&quot;</span>, <span class="hljs-comment">// include, same-origin, *omit</span>
      headers: &#123;
        <span class="hljs-string">&quot;user-agent&quot;</span>: <span class="hljs-string">&quot;Mozilla/4.0 MDN Example&quot;</span>,
       <span class="hljs-string">&quot;content-type&quot;</span>: <span class="hljs-string">&quot;application/json&quot;</span>
      &#125;,
      method: <span class="hljs-string">&quot;POST&quot;</span>, <span class="hljs-comment">// *GET, POST, PUT, DELETE, etc.</span>
      mode: <span class="hljs-string">&quot;cors&quot;</span>, <span class="hljs-comment">// no-cors, cors, *same-origin</span>
      redirect: <span class="hljs-string">&quot;follow&quot;</span>, <span class="hljs-comment">// manual, *follow, error</span>
      referrer: <span class="hljs-string">&quot;no-referrer&quot;</span> <span class="hljs-comment">// *client, no-referrer</span>
      &#125;).then(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> response.json()); <span class="hljs-comment">// parses response to JSON</span>
  &#125;</code></pre></div></li>
</ul>
<h3 id="CORSè·¨åŸŸ"><a href="#CORSè·¨åŸŸ" class="headerlink" title="CORSè·¨åŸŸ"></a><code>CORS</code>è·¨åŸŸ</h3><p><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2016/04/cors.html">è·¨åŸŸèµ„æºå…±äº« CORS è¯¦è§£ - é˜®ä¸€å³°</a></p>
<p>è·¨æºèµ„æºå…±äº«æ ‡å‡†é€šè¿‡æ–°å¢ä¸€ç³»åˆ— HTTP å¤´ï¼Œè®©æœåŠ¡å™¨èƒ½å£°æ˜é‚£äº›æ¥æºå¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®è¯¥æœåŠ¡å™¨ä¸Šçš„å„ç±»èµ„æº</p>
<h4 id="ï¼ç®€å•è¯·æ±‚"><a href="#ï¼ç®€å•è¯·æ±‚" class="headerlink" title="ï¼ç®€å•è¯·æ±‚"></a>ï¼ç®€å•è¯·æ±‚</h4><ul>
<li>æ–¹æ³•<code>post get head</code>,</li>
<li><code>Content-Type</code>ï¼šåªé™äºä¸‰ä¸ªå€¼<code>application/x-www-form-urlencoded</code>ã€<code>multipart/form-data</code>ã€<code>text/plain</code></li>
</ul>
<h5 id="è¯·æ±‚"><a href="#è¯·æ±‚" class="headerlink" title="è¯·æ±‚"></a>è¯·æ±‚</h5><ul>
<li>headerä¸­æ·»åŠ <code>Origin</code>å­—æ®µ</li>
</ul>
<h5 id="å“åº”"><a href="#å“åº”" class="headerlink" title="å“åº”"></a>å“åº”</h5><ul>
<li><p><code>Access-Control-Allow-Origin</code>:å…è®¸è·¨åŸŸè®¿é—®çš„åŸŸï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªåŸŸçš„åˆ—è¡¨ï¼Œä¹Ÿå¯ä»¥æ˜¯é€šé…ç¬¦â€*â€œ</p>
</li>
<li><p><code>Access-Control-Allow-Credentials</code>:æ˜¯å¦å…è®¸è¯·æ±‚å¸¦æœ‰ cookie</p>
<p>å¦‚æœè¦å‘é€<code>Cookieï¼ŒAccess-Control-Allow-Origin</code>å°±ä¸èƒ½è®¾ä¸ºæ˜Ÿå·ï¼Œå¿…é¡»æŒ‡å®šæ˜ç¡®çš„ã€ä¸è¯·æ±‚ç½‘é¡µä¸€è‡´çš„åŸŸå</p>
<p>å¹¶ä¸” ajax ä¸­è¦æ‰“å¼€</p>
<div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;  <span class="xml">&lt;-------</span></code></pre></div></li>
<li><p><code>Access-Control-Expose-Headers</code>: è‡ªå®šä¹‰å­—æ®µ</p>
</li>
</ul>
<h4 id="ï¼éç®€å•è¯·æ±‚"><a href="#ï¼éç®€å•è¯·æ±‚" class="headerlink" title="ï¼éç®€å•è¯·æ±‚"></a>ï¼éç®€å•è¯·æ±‚</h4><ul>
<li>éç®€å•è¯·æ±‚æ˜¯é‚£ç§å¯¹æœåŠ¡å™¨æœ‰ç‰¹æ®Šè¦æ±‚çš„è¯·æ±‚ï¼Œæ¯”å¦‚è¯·æ±‚æ–¹æ³•æ˜¯<code>PUT</code>æˆ–<code>DELETE</code>ï¼Œæˆ–è€…<code>Content-Type</code>å­—æ®µçš„ç±»å‹æ˜¯<code>application/json</code></li>
<li>æ­£å¼é€šä¿¡å‰ä¼šå…ˆå‘èµ·â€é¢„æ£€â€è¯·æ±‚</li>
<li>ä¸€æ—¦æœåŠ¡å™¨é€šè¿‡äº†â€é¢„æ£€â€è¯·æ±‚ï¼Œä»¥åæ¯æ¬¡æµè§ˆå™¨æ­£å¸¸çš„ CORS è¯·æ±‚ï¼Œå°±éƒ½è·Ÿç®€å•è¯·æ±‚ä¸€æ ·</li>
</ul>
<h5 id="è¯·æ±‚-1"><a href="#è¯·æ±‚-1" class="headerlink" title="è¯·æ±‚"></a>è¯·æ±‚</h5><ul>
<li><code>OPTIONS</code>è¯¢é—®</li>
<li><code>Origin</code>æ¥æºåŸŸ</li>
<li><code>Access-Control-Request-Method</code>æ¥ä¸‹æ¥è¯·æ±‚çš„æ–¹æ³•</li>
</ul>
<h5 id="å“åº”-1"><a href="#å“åº”-1" class="headerlink" title="å“åº”"></a>å“åº”</h5><ul>
<li><code>Access-Control-Allow-Origin</code>å…è®¸è·¨åŸŸè®¿é—®çš„åŸŸ</li>
<li><code>Access-Control-Allow-Methods</code>æœåŠ¡å™¨æ”¯æŒçš„æ‰€æœ‰è·¨åŸŸè¯·æ±‚çš„æ–¹æ³•</li>
<li><code>Access-Control-Max-Age</code>é¢„æ£€è¯·æ±‚æœ‰æ•ˆæœŸ</li>
<li><code>Access-Control-Allow-Credentials</code>ä¸ç®€å•è¯·æ±‚ç›¸åŒ</li>
</ul>
<h2 id="XSSè·¨åŸŸè„šæœ¬æ”»å‡»"><a href="#XSSè·¨åŸŸè„šæœ¬æ”»å‡»" class="headerlink" title="XSSè·¨åŸŸè„šæœ¬æ”»å‡»"></a>XSSè·¨åŸŸè„šæœ¬æ”»å‡»</h2><p><code>Cross-site scripting</code></p>
<ul>
<li><p>å­˜å‚¨å‹XSS</p>
<p>  input, textareaç­‰ï¼‰ä¸­å†™å…¥æ¶æ„è„šæœ¬ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œå…¶ä»–äººä¸‹è½½å¸¦æœ‰è¯¥è„šæœ¬çš„htmlé¡µé¢è‡³æµè§ˆå™¨æ—¶è„šæœ¬è¿è¡Œ</p>
</li>
<li><p>åå°„å‹XSS</p>
<p>  å°†æ¶æ„ä»£ç åŠ å…¥<code>URL</code>ä¸­æäº¤ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨è¿”å›å†…å®¹å°±å¸¦ä¸Šäº†æ¶æ„ä»£ç ï¼Œæµè§ˆå™¨ä¸‹è½½é¡µé¢åˆ™æ‰§è¡Œäº†æ¶æ„ä»£ç ï¼ŒæœåŠ¡å™¨ä¸å­˜å‚¨æ¶æ„ä»£ç </p>
</li>
<li><p>DOM XSS</p>
<ul>
<li>JavaScript çš„ <code>eval()</code>ã€<code>setTimeout()</code>ã€<code>setInterval()</code> ç­‰å‡½æ•°</li>
<li><code>&lt;a&gt;</code>æ ‡ç­¾çš„<code>href</code>å±æ€§</li>
<li>DOMä¸­çš„å†…è”äº‹ä»¶ç›‘è§†å™¨,<code>location</code>,<code>onclick</code>,<code>onerror</code>,<code>onload</code>ç­‰</li>
<li>éƒ½å¯ä»¥å°†å­—ç¬¦ä¸²ä½œä¸ºä»£ç æ‰§è¡Œ</li>
</ul>
</li>
</ul>
<h3 id="é˜²èŒƒXSS"><a href="#é˜²èŒƒXSS" class="headerlink" title="é˜²èŒƒXSS"></a>é˜²èŒƒXSS</h3><ul>
<li>è®¾ç½®cookie  <code>httponly</code></li>
<li>æ ¡éªŒç”¨æˆ·è¾“å…¥</li>
<li>è¿‡æ»¤ç”¨æˆ·ä¸Šä¼ çš„DOMäº‹ä»¶å’Œscriptï¼Œiframeï¼Œstyleæ ‡ç­¾</li>
<li>å¯¹ç”¨æˆ·è¾“å…¥å†…å®¹htmlç¼–ç </li>
<li>ä½¿ç”¨CSP<code>Content Security Policy</code>,æœåŠ¡ç«¯åŠ å…¥httpé¦–éƒ¨æˆ–metaæ ‡ç­¾,é™åˆ¶è¯¥é¡µé¢å¯ä»¥è·å–å“ªäº›èµ„æºå’Œèµ„æºçš„æ¥æº</li>
<li>! <code>jsonp</code>å¦‚ä½•é˜²æ­¢xss<ol>
<li>å‰åç«¯çº¦å®šjsonpè¯·æ±‚çš„jsçš„å›è°ƒå‡½æ•°å</li>
<li>æœåŠ¡å™¨ç«¯æŒ‡å®šè¿”å›çš„æ•°æ®æ ¼å¼ä¸ºjson</li>
<li>è¿›è¡ŒreferreréªŒè¯ ï¼ˆ<code>$_SERVER[&#39;HTTP_REFERRER&#39;] ä¸­çš„ host</code>ï¼‰</li>
</ol>
</li>
</ul>
<h2 id="CSRFè·¨åŸŸè¯·æ±‚ä¼ªé€ "><a href="#CSRFè·¨åŸŸè¯·æ±‚ä¼ªé€ " class="headerlink" title="CSRFè·¨åŸŸè¯·æ±‚ä¼ªé€ "></a>CSRFè·¨åŸŸè¯·æ±‚ä¼ªé€ </h2><p><code>Cross-site request forgery</code><br> åˆ©ç”¨ç”¨æˆ·çš„ç™»é™†çŠ¶æ€è¯±å¯¼è‡³æ¶æ„ç½‘ç«™ï¼Œä»¥åˆæ³•èº«ä»½å‘åŸå…ˆç½‘ç«™å‘é€æ¶æ„è¯·æ±‚</p>
<h3 id="é˜²å¾¡CSRF"><a href="#é˜²å¾¡CSRF" class="headerlink" title="é˜²å¾¡CSRF"></a>é˜²å¾¡CSRF</h3><ul>
<li>åŒæºæ£€æµ‹ï¼ŒéªŒè¯<code>http</code>è¯·æ±‚çš„æ¥æº<code>origin</code>å’Œ<code>referrer</code></li>
<li>è®¾ç½®<code>cookie</code>çš„<code>SameSite</code>å±æ€§ï¼Œä½¿<code>cookie</code>åªå¯è¢«ç¬¬ä¸€æ–¹ä½¿ç”¨</li>
<li>åˆæ³•é¡µé¢ä¸­åŠ å…¥<code>token</code>ï¼Œå¹¶åœ¨åˆæ³•é¡µé¢çš„åç»­è¯·æ±‚ï¼ˆaæ ‡ç­¾å’Œè¡¨å•ï¼‰ä¸­éƒ½åŠ ä¸Šè¿™ä¸ª<code>token</code>,æœåŠ¡å™¨éªŒè¯</li>
</ul>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><h4 id="SQlæ³¨å…¥"><a href="#SQlæ³¨å…¥" class="headerlink" title="SQlæ³¨å…¥"></a>SQlæ³¨å…¥</h4><ol>
<li><p>é»‘å®¢æäº¤ç•¸å½¢æ•°æ®æ”¹å˜è¯­ä¹‰æäº¤sqlæŸ¥è¯¢å¾—åˆ°éæ³•æ•°æ®</p>
</li>
<li><p>é˜²å¾¡</p>
<ol>
<li>è¿‡æ»¤sqlä¿ç•™å­—</li>
<li>å‡å°‘æŠ›å‡ºä¸å¿…è¦çš„æ•°æ®åº“é”™è¯¯ä¿¡æ¯</li>
<li>ç¦æ­¢åŠ¨æ€æ‹¼æ¥sqlè¯­å¥è®¿é—®æ•°æ®åº“</li>
</ol>
</li>
</ol>
<h4 id="ç‚¹å‡»åŠ«æŒ"><a href="#ç‚¹å‡»åŠ«æŒ" class="headerlink" title="ç‚¹å‡»åŠ«æŒ"></a>ç‚¹å‡»åŠ«æŒ</h4><ol>
<li>ç‚¹å‡»é€æ˜iframe</li>
<li>ç›‘å¬é¼ æ ‡ç§»åŠ¨ä½ç½®</li>
<li>H5æ‹–æ‹½</li>
<li>é˜²å¾¡ï¼š<ol>
<li>æœåŠ¡ç«¯æ·»åŠ  <code>X-Frame-Options</code> å“åº”å¤´</li>
<li>jsåˆ¤æ–­é¡¶å±‚è§†å£æ˜¯å¦åŒæº</li>
<li>æ•æ„Ÿæ“ä½œå¤æ‚æ“ä½œï¼ˆéªŒè¯ç ï¼ŒäºŒæ¬¡ç¡®è®¤</li>
</ol>
</li>
</ol>
<h4 id="window-opener"><a href="#window-opener" class="headerlink" title="window.opener"></a><code>window.opener</code></h4><ol>
<li>ä¿®æ”¹<code>window.opener.location</code>å¯ä»¥æ”¹å†™æ¥æºç«™ç‚¹çš„åœ°å€</li>
<li>é˜²å¾¡ï¼š<ol>
<li>è®¾ç½®aæ ‡ç­¾çš„relå±æ€§<code>rel=noopener</code>,ç¦æ­¢æ–°é¡µé¢ä¼ é€’æºé¡µé¢åœ°å€</li>
<li>å¤–éƒ¨é“¾æ¥æ”¹ä¸ºç»ç”±æœåŠ¡å™¨è·³è½¬</li>
<li>ä½¿ç”¨window.openæ‰“å¼€å¤–é“¾</li>
</ol>
</li>
</ol>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E9%9D%A2%E8%AF%95/">é¢è¯•</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/04/13/vue%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1/">
                        <span class="hidden-mobile">vueç»„ä»¶ä¹‹é—´é€šä¿¡æ–¹å¼</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <div id="twikoo"></div>
  <script type="text/javascript">
    Fluid.utils.lazyComments('comments', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/twikoo@1.3.0/dist/twikoo.all.min.js', function() {
        twikoo.init({
          el: '#twikoo',
          envId: 'blog-1glh2chxcbf8757a',
          region: 'ap-shanghai',
          path: 'window.location.pathname',
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <div> <span id="timeDate">è½½å…¥å¤©æ•°...</span> <span id="times">è½½å…¥æ—¶åˆ†ç§’...</span> <script src="/js/duration.js"></script> </div> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- ä¸è’œå­ç»Ÿè®¡PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            æ€»è®¿é—®é‡ 
            <span id="busuanzi_value_site_pv"></span>
             æ¬¡
          </span>
      
      
        <!-- ä¸è’œå­ç»Ÿè®¡UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            æ€»è®¿å®¢æ•° 
            <span id="busuanzi_value_site_uv"></span>
             äºº
          </span>
      
    
  </div>


  
  <!-- å¤‡æ¡ˆä¿¡æ¯ -->
  <div class="beian">
    <span>
      <a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
        ç²¤ICPå¤‡2020115702å·
      </a>
    </span>
    
  </div>


  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      $('#local-search-input').on('click', function() {
        searchFunc(path, 'local-search-input', 'local-search-result');
      });
      $('#modalSearch').on('shown.bs.modal', function() {
        $('#local-search-input').focus();
      });
    })()
  </script>















<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ ä¿æŒåœ¨æœ€åº•éƒ¨ -->
<script  src="/js/boot.js" ></script>


</body>
</html>
